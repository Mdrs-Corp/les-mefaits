<!DOCTYPE html>
<html>

<head>
  <title>sudoku solver</title>
  <style type="text/css">
    canvas {
      display: block;
    }

    html,
    body {
      margin: 0px;
    }
  </style>
</head>

<body>
  <canvas id="game"></canvas>

  <script type='text/javascript'>
    console.log(1 == "1")
    const canvas = document.getElementById("game");
    const context = canvas.getContext("2d");
    var width = window.innerWidth;
    var height = window.innerHeight;
    class Alexis {
      constructor() {
        this.x = Math.random() * width
        this.y = 0
        this.aaron = false
      }
      draw() {
        context.fillStyle = "yellow"
        context.fillRect(this.x, this.y, 10, 10)
      }
      update() {
        this.y += 1
        if (this.y >= height) {
          this.aaron = true
        }
      }
    }
    class Vincent {
      constructor(a, b) {
        this.x = a;
        this.y = b;
      }
      draw() {
        context.fillStyle = "purple"
        context.fillRect(this.x, this.y, 5, 10);
      }
    }
    class Joseph {
      constructor() {
        this.x = width / 2;
      }
      draw() {
        context.fillStyle = "#6174ee"
        context.fillRect(this.x - 10, height - 50, 20, 20)
      }
    }


    function resize() {
      width = window.innerWidth,
        height = window.innerHeight,
        ratio = window.devicePixelRatio;
      canvas.width = width * ratio;
      canvas.height = height * ratio;
      canvas.style.width = width + "px";
      canvas.style.height = height + "px";
      context.scale(ratio, ratio);
    }
    window.onresize = function() {
      resize();
    };
    window.onload = function() {
      resize();
      window.requestAnimationFrame(boucle);
    }
    document.addEventListener("keydown", (e) => {
      if (e.repeat) return;
      if (e.keyCode == 37) {
        direc = -1
      } else if (e.keyCode == 39) {
        direc = 1
      } else if (e.keyCode == 38) {
        vincents.push(new Vincent(joseph.x, height - 50));
      }
    }, false);
    document.addEventListener('keyup', (e) => {
      direc = 0
    })
    joseph = new Joseph()
    direc = 0
    vincents = []
    alexis = [new Alexis()]

    function boucle() {
      context.clearRect(0, 0, width, height);
      context.beginPath();
      context.fillStyle = "black";
      context.rect(0, 0, width, height);
      context.fill();
      context.closePath();
      if (Math.random() > .99) {
        alexis.push(new Alexis())
      }
      for (let alexi of alexis) {
        alexi.draw()
        alexi.update()
      }
      alexis = alexis.filter((el) => !el.aaron)
      for (let vincent of vincents) {
        vincent.draw()
      }
      joseph.draw()
      joseph.x += direc * 5
      joseph.x = joseph.x % width
      joseph.x = joseph.x < 0 ? width + joseph.x : joseph.x
      window.requestAnimationFrame(boucle)
    }
    boucle()
  </script>
</body>

</html>
